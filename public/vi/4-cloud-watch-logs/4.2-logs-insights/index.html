<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.140.2">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>CloudWatch Logs Insights :: Thiết lập AWS Account</title>

    
    <link href="/css/nucleus.css?1737709886" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1737709886" rel="stylesheet">
    <link href="/css/hybrid.css?1737709886" rel="stylesheet">
    <link href="/css/featherlight.min.css?1737709886" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1737709886" rel="stylesheet">
    <link href="/css/auto-complete.css?1737709886" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1737709886" rel="stylesheet">
    <link href="/css/theme.css?1737709886" rel="stylesheet">
    <link href="/css/hugo-theme.css?1737709886" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1737709886" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1737709886"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/vi/4-cloud-watch-logs/4.2-logs-insights/">
    <nav
  id="sidebar"
  class="showVisitedLinks"
>
   
  <div id="header-wrapper">
    <div id="header"><a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>
</div>
     <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1737709886"></script>
<script type="text/javascript" src="/js/auto-complete.js?1737709886"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/vi";
    
</script>
<script type="text/javascript" src="/js/search.js?1737709886"></script>
 
  </div>

  <div class="highlightable">
    <ul class="topics">
               
<li
  data-nav-id="/vi/1-introduction/"
  title="Giới thiệu"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/1-introduction/">
     <b> 1. </b> Giới thiệu 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/vi/2-preparatory-steps/"
  title="Các bước chuẩn bị"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/2-preparatory-steps/">
     <b> 2. </b> Các bước chuẩn bị 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/vi/3-cloud-watch-metric/"
  title="CloudWatch Metric"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/3-cloud-watch-metric/">
     <b> 3. </b> CloudWatch Metric 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/3-cloud-watch-metric/3.1-view-metrics/"
  title="Xem các Metrics"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/3-cloud-watch-metric/3.1-view-metrics/">
     <b> 3.1. </b> Xem các Metrics 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/3-cloud-watch-metric/3.2-search-expression/"
  title="Thực hiện các phép tìm kiếm"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/3-cloud-watch-metric/3.2-search-expression/">
     <b> 3.2. </b> Thực hiện các phép tìm kiếm 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/3-cloud-watch-metric/3.3-math-expression/"
  title="Thực hiện các phép toán học"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/3-cloud-watch-metric/3.3-math-expression/">
     <b> 3.3. </b> Thực hiện các phép toán học 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/3-cloud-watch-metric/3.4-dynamic-label/"
  title="Tạo dynamic labels"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/3-cloud-watch-metric/3.4-dynamic-label/">
     <b> 3.4. </b> Tạo dynamic labels 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/vi/4-cloud-watch-logs/"
  title="CloudWatch Logs"
  class="dd-item 
        parent
        
        
        "
>
  <a href="/vi/4-cloud-watch-logs/">
     <b> 4. </b> CloudWatch Logs 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/4-cloud-watch-logs/4.1-logs/"
  title="CloudWatch Logs"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/4-cloud-watch-logs/4.1-logs/">
     <b> 4.1 </b> CloudWatch Logs 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/4-cloud-watch-logs/4.2-logs-insights/"
  title="CloudWatch Logs Insights"
  class="dd-item 
        
        active
        
        "
>
  <a href="/vi/4-cloud-watch-logs/4.2-logs-insights/">
     <b> 4.2 </b> CloudWatch Logs Insights 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/4-cloud-watch-logs/4.3-metric-filter/"
  title="CloudWatch Metric Filter"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/4-cloud-watch-logs/4.3-metric-filter/">
     <b> 4.3 </b> CloudWatch Metric Filter 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/vi/5-cloud-watch-alarm/"
  title="CloudWatch Alarms"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/5-cloud-watch-alarm/">
     <b> 5. </b> CloudWatch Alarms 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/vi/6-cloud-watch-dashboard/"
  title="CloudWatch Dashboards"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/6-cloud-watch-dashboard/">
     <b> 6. </b> CloudWatch Dashboards 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/vi/7-clean-up-resources/"
  title="Dọn dẹp tài nguyên"
  class="dd-item 
        
        
        
        "
>
  <a href="/vi/7-clean-up-resources/">
     <b> 7. </b> Dọn dẹp tài nguyên 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
    </ul>

     
    <section id="shortcuts">
      <h3>
        More
      </h3>
      <ul>
        
        <li>
          <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"
            ><i class='fab fa-facebook'></i> AWS Study Group</a
          >
        </li>
        
      </ul>
    </section>
     
    <section id="prefooter">
      <hr />
      <ul>
        
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
            <div class="select-style">
              <select id="select-language" onchange="location = this.value;">
                       
                <option
                  id="en"
                  value="/4-cloud-watch-logs/4.2-logs-insights/"
                >
                  English
                </option>
                            
                <option
                  id="vi"
                  value="/vi/4-cloud-watch-logs/4.2-logs-insights/"
                  selected
                >
                  Tiếng Việt
                </option>
                   
              </select>
              <svg
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                width="255px"
                height="255px"
                viewBox="0 0 255 255"
                style="enable-background: new 0 0 255 255"
                xml:space="preserve"
              >
                <g>
                  <g id="arrow-drop-down">
                    <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
                  </g>
                </g>
              </svg>
            </div>
          </a>
        </li>
         
        <li>
          <a class="padding" href="#" data-clear-history-toggle=""
            ><i class="fas fa-history fa-fw"></i> Clear History</a
          >
        </li>
        
      </ul>
    </section>
    
    <section id="footer"><left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830891&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>24-01-2025</font></i>
    </left>
    <left>
        <br>
        <br>
        <b> Team </b>
        <br/>
        <i>
            <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia Hưng</a>
        </i>
        <br/>
        <i>
            <a href="https://www.linkedin.com/in/vanhoangkha"  style="color:orange">Hoàng Kha</a>
        </i>
        <br/>
        <i>
            <a href="https://www.linkedin.com/in/anh-tuan-nguyen-08a550224"  style="color:orange">Anh Tuấn</a>
        </i>
    </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>
</section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/vi/'>AWS CloudWatch Workshop</a> > <a href='/vi/4-cloud-watch-logs/'>CloudWatch Logs</a> > CloudWatch Logs Insights
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              CloudWatch Logs Insights
            </h1>
          

        



	<h4 id="cloudwatch-logs-insights">CloudWatch Logs Insights</h4>
<p>Trong phần này thì chúng ta sẽ thực hiện tạo logs từ một ứng dụng, sau đó là sẽ query những logs này ở trong CloudWatch Logs Insights. Mình sẽ chọn một instance nào đó để làm mẫu.</p>
<ol>
<li>
<p>Trên thanh tìm kiếm dịch vụ.</p>
<ul>
<li>Nhập <code>EC2</code>.</li>
<li>Chọn <strong>EC2</strong>.</li>
</ul>
</li>
</ol>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.1.png" alt="4.2.1"></p>
<ol start="2">
<li>
<p>Vào trong trang Instances của <strong>EC2 Console</strong></p>
<ul>
<li>Chọn một Instance bất kì, ở đây mình chọn Instance-A.</li>
<li>Ấn chọn <strong>Connect</strong>.</li>
</ul>
</li>
</ol>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.2.png" alt="4.2.2"></p>
<ol start="3">
<li>
<p>Trong trang <strong>Connect to instance</strong>.</p>
<ul>
<li>Chọn tab <strong>Session Manager</strong>.</li>
<li>Ấn <strong>Connect</strong>.</li>
</ul>
</li>
</ol>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.3.png" alt="4.2.3"></p>
<ol start="4">
<li>
<p>Chờ một ít phút thì một Terminal hiện lên.</p>
<ul>
<li>Đầu tiên là vào trong <strong>tmp</strong>.</li>
<li>Sau đó là tải file py script về.</li>
</ul>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd /tmp
</span></span><span style="display:flex;"><span>sudo aws s3 cp s3://workshop-template-bucket/logger.py .
</span></span></code></pre></div><p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.4.png" alt="4.2.4"></p>
<ol start="5">
<li>Cấp quyền thực thi và thực thi file script này.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo chmod +x logger.py
</span></span><span style="display:flex;"><span>python3 logger.py &amp;
</span></span></code></pre></div><p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.5.png" alt="4.2.5"></p>
<ol start="6">
<li>Kiểm tra các logger đang chạy dưới dạng process</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ps -aux | grep logger
</span></span></code></pre></div><p>Có thể thấy thì hiện tại có 2 processes đang chạy, nó sẽ chạy cho tới cuối bài.</p>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.6.png" alt="4.2.6"></p>
<ol start="7">
<li>Dùng lệnh để in ra các dòng log từ file <code>/var/log/messages</code>, nó sẽ in cho tới khi nào mình huỷ.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo tail -f /var/log/messages
</span></span></code></pre></div><p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.7.png" alt="4.2.7"></p>
<ol start="8">
<li>Trở lại <strong>CloudWatch Console</strong>, vào trong <strong>Logs Insights</strong> ở thanh menu bên trái. Chúng ta sẽ thực hiện query logs ở trong này.</li>
</ol>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.8.png" alt="4.2.8"></p>
<ol start="9">
<li>Trong <strong>Selection criteria</strong>, tìm <code>/ec2</code> và chọn <strong>/ec2/linux/var/log/messages</strong>.</li>
</ol>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.9.png" alt="4.2.9"></p>
<ol start="10">
<li>Nhập vào dòng query như bên dưới và ấn <strong>Run query</strong>.</li>
</ol>
<pre tabindex="0"><code>fields @timestamp, @message
| sort @timestamp desc
| limit 20
</code></pre><p>Và được kết quả.</p>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.10.png" alt="4.2.10"></p>
<p>Đây chính là log mà chúng ta mới tạo ra ở bước trên.</p>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.11.png" alt="4.2.11"></p>
<ol start="11">
<li>Giờ thì thử query là các ERROR Logs.</li>
</ol>
<pre tabindex="0"><code>fields @timestamp, @message
| filter @message like /ERROR/
| sort @timestamp desc
| limit 20
</code></pre><p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.12.png" alt="4.2.12"></p>
<p>Cũng là những log lỗi mà hồi nãy chúng ta đã tạo ra.</p>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.13.png" alt="4.2.13"></p>
<ol start="12">
<li>Tiếp theo là các WARN Logs.</li>
</ol>
<pre tabindex="0"><code>fields @timestamp, @message
| filter @message like /WARN/
| sort @timestamp desc
| limit 20
</code></pre><p>Đây là các logs mới được tạo ra.</p>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.14.png" alt="4.2.14"></p>
<ol start="13">
<li>Giờ thử query lại log, lỗi, chúng ta cũng sẽ thấy được các log mới được tạo ra.</li>
</ol>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.15.png" alt="4.2.15"></p>
<ol start="14">
<li>Ngoài ra thì chúng ta còn có thể thực hiện được việc query theo từ khoá khác. Như câu query ở bên dưới.</li>
</ol>
<pre tabindex="0"><code>fields @timestamp, @message
| filter @message like /eth0/
| sort @timestamp desc
| stats count (*) by bin()
</code></pre><p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.16.png" alt="4.2.16"></p>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.17.png" alt="4.2.17"></p>
<h4 id="trực-quan-hoá-query-log">Trực quan hoá query log</h4>
<p>Ngoài ra thì chúng ta còn có thể xem được biểu đồ của các query này nữa. Chuyển sang tab <strong>Visualization</strong>.</p>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.18.png" alt="4.2.18"></p>
<h4 id="lưu-lệnh-truy-vấn">Lưu lệnh truy vấn</h4>
<p>Về sau thì có thể chúng ta sẽ có nhiều câu truy vấn cần sử dụng lại hoặc là có những câu truy vấn phức tạp hơn mà chúng ta cần phải lưu lại. Thì Logs Insights có hỗ trợ cho chúng ta lưu lại các câu truy vấn này.</p>
<ol>
<li>
<p>Ví dụ mình sẽ lưu lại câu truy vấn lỗi.</p>
<ul>
<li>Trở lại màn hình chính của Logs Insights.</li>
<li>Dán lại lệnh query tìm Error logs.</li>
<li>Ấn chọn <strong>Save</strong>.</li>
</ul>
</li>
</ol>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.19.png" alt="4.2.19"></p>
<ol start="2">
<li>
<p>Trong trang Save a new query, điền các thông tin như</p>
<ul>
<li>Query name: <code>Erors</code>.</li>
<li>Folder: <code>cloudwatch-workshop</code>, và tích chọn <strong>Create new</strong>.</li>
<li>Kiểm tra lại thông tin trong phần <strong>Query definition details</strong>.</li>
<li>Ấn <strong>Save</strong>.</li>
</ul>
</li>
</ol>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.20.png" alt="4.2.20"></p>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.21.png" alt="4.2.21"></p>
<h4 id="lịch-sử-truy-vấn">Lịch sử truy vấn</h4>
<p>Logs Insights còn cho phép chúng ta có thể xem lại được lịch sử đã truy vấn. Trên giao diện, ấn chọn <strong>History</strong> (dưới Query editor).</p>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.22.png" alt="4.2.22"></p>
<p><img src="/images/4-cloud-watch-logs/4.2-logs-insights/4.2.23.png" alt="4.2.23"></p>
<p>Trong phần tiếp theo, chúng ta sẽ tiếp tục dùng hành vi này của các logger để tạo ra một Metrics Filter, để chuyển các Log thành Metrics. Sau đó sẽ thao tác nó với Alarm.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/vi/4-cloud-watch-logs/4.1-logs/" title="CloudWatch Logs"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/vi/4-cloud-watch-logs/4.3-metric-filter/" title="CloudWatch Metric Filter" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1737709886"></script>
    <script src="/js/perfect-scrollbar.min.js?1737709886"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1737709886"></script>
    <script src="/js/jquery.sticky.js?1737709886"></script>
    <script src="/js/featherlight.min.js?1737709886"></script>
    <script src="/js/highlight.pack.js?1737709886"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1737709886"></script>
    <script src="/js/learn.js?1737709886"></script>
    <script src="/js/hugo-learn.js?1737709886"></script>

    <link href="/mermaid/mermaid.css?1737709886" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1737709886"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>

[
{
	"uri": "/vi/1-introduce/",
	"title": "Giới thiệu",
	"tags": [],
	"description": "",
	"content": "Amazon CloudWatch Amazon CloudWatch là một công cụ cho phép bạn thu thập dữ liệu về hoạt động của các tài nguyên, ứng dụng, và dịch vụ đang vận hành trên AWS Cloud hoặc máy chủ của bạn. Dữ liệu thu thập được sẽ được lưu dưới dạng các nhật ký, chỉ số, và sự kiện. Cloudwatch cũng có thể thể hiện dữ liệu dưới dạng biểu đồ để bạn dễ dàng hình dung và chắt lọc thông tin từ dữ liệu.\nCloudWatch Agent CloudWatch Agent là một ứng dụng thuộc dịch vụ CloudWatch. Bạn cần tải về và khởi chạy CloudWatch Agent trên máy chủ on-premise hoặc EC2 Instance để CloudWatch có thể thu thập dữ liệu hoạt động của từng máy.\nTrong phần này, bạn sẽ thực hành cài đặt CloudWatch Agent để theo dõi RAM của EC2 Instance và gửi dữ liệu về cho CloudWatch. Để EC2 Instance có quyền truy cập vào CloudWatch, bạn cần gán cho nó một IAM Role phù hợp.\n"
},
{
	"uri": "/vi/2-prerequiste/2.1-createvpcandsecuritygroup/",
	"title": "Tạo VPC và Security Group",
	"tags": [],
	"description": "",
	"content": "Chuẩn bị VPC, Security Group cho EC2 instance   Truy cập giao diện AWS Management Console\n Tìm VPC Chọn VPC     Trong giao diện VPC\n Chọn Your VPCs Chọn Create VPC     Trong giao diện Create VPC\n Trong VPC settings, chọn VPC, subents, etc. Name tag auto-generation, nhập cloudwatch IPv4 CIDR block, nhập 10.0.0.0/16 IPv6 CIDR block, chọn No IPv6 CIDR block    Chọn Create VPC  Chọn View VPC  Hoàn thành tạo VPC   Trong giao diện VPC\n Chọn Subnets Chọn Public subnet Kiểm tra Auto-assign public IPv4 address Sau đó chọn Actions Chọn Edit subnet settings     Trong giao diện Edit subnet settings\n Bước Auto-assign IP settings, chọn Enable auto-assign public IPv4 address* Chọn Save     Enable auto-assign public IPv4 address thành công\n Kiểm tra Auto-assign public IPv4 address    Truy cập AWS Management Console  - Tìm **VPC**\r- Chọn **VPC**\r Trong giao diện VPC  - Chọn **Security Group**\r- Chọn **Create security group**\r Trong giao diện Create security group  - **Security group name**, nhập ```cloudwatch-subnet```\r- **Description**, nhập ```Subnet for CloudWatch instance```\r- **VPC**, chọn VPC vừa tạo\r Thực hiện cấu hình Inbound rules  - Chọn **Add rule** và tiến hành cấu hình\r- **SSH**\r- **All ICMP-IPv4**\r- **All ICMP-IPv6**\r- **HTTP**\r- **HTTPS**\r Chọn Create security group*  Hoàn thành khởi tạo Security group  "
},
{
	"uri": "/vi/",
	"title": "Theo dõi tài nguyên với AWS CloudWatch",
	"tags": [],
	"description": "",
	"content": "Theo dõi tài nguyên với Amazon CloudWatch Tổng quan Ở bài lab này, bạn sẽ thiết lập CloudWatch Agent trên EC2 Instance để thu thập dữ liệu hoạt động của instance và gửi về cho CloudWatch. Sau đó, bạn sẽ thể hiện dữ liệu thu thập được lên CloudWatch Dashboard.\nNội dụng  Giới thiệu Các bước chuẩn bị Cài đặt CloudWatch Agent Tạo CloudWatch Dashboard Chia sẻ CloudWatch Dashboard Dọn dẹp tài nguyên  "
},
{
	"uri": "/vi/2-prerequiste/",
	"title": "Các bước chuẩn bị",
	"tags": [],
	"description": "",
	"content": "Tổng quan Trong phần này, bạn sẽ thực hành cài đặt CloudWatch Agent để theo dõi RAM của EC2 Instance và gửi dữ liệu về cho CloudWatch. Để EC2 Instance có quyền truy cập vào CloudWatch, bạn cần gán cho nó một IAM Role phù hợp.\nNội dung  Tạo VPC và Security Group Khởi tạo EC2 instance Tạo IAM Role Gán IAM Role vào EC2 instance  "
},
{
	"uri": "/vi/2-prerequiste/2.2-createec2instance/",
	"title": "Khởi tạo EC2 instance",
	"tags": [],
	"description": "",
	"content": "Khởi tạo EC2 instance  Truy cập AWS Management Console   Tìm EC2 Chọn EC2  Trong giao diện EC2   Chọn Instances Chọn Launch instances  Trong giao diện Launch instances   Name and tags, nhập CloudWatch-instance  Trong giao diện Launch instances   Chọn Quick Start Chọn Amazon Linux Chọn loại AMI  Tiếp tục trong giao diện Launch instances   Chọn Instance type Chọn Create new key pair  Trong giao diện Create key pair   Key pair name, nhập CloudWatchKey Key pair type, chọn RSA Private key file format, chọn .pem Chọn Create key pair Lưu trữ key pair để thực hiện kết nối EC instance ở các bước sau  Trong giao diện Launch instances   Trong phần Network settings, chọn Edit  Trong giao diện Network settings   VPC, chọn VPC vừa tạo Subnet, chọn Public subnet đã được enable auto-assign IPv4 address Auto-assign public IP, chọn Enable Firewall (security group), Chọn Select existing security group Chọn Security group vừa tạo  Kiểm tra lại và chọn Launch instances  Chọn View all instances  Xem thông tin chi tiết instance vừa tạo  "
},
{
	"uri": "/vi/3-cloudwatchagent/",
	"title": "Cài đặt CloudWatch Agent",
	"tags": [],
	"description": "",
	"content": "Cài đặt CloudWatch Agent  Bắt đầu kết nối EC2 instance   Chọn Instances Chọn instance vừa tạo Sao chép Public IPv4 address Sử dụng PuTTY hoặc MobaXterm để kết nối qua port 22 Thông tin chi tiết vê kết nối EC2 bạn tham khảo Kết nối máy ảo Linux  Giao diện MobaXterm.   Chọn SSH   Nhập ec2-user  Do đây là lần đầu ta truy cập EC2 Instance chúng ta cần thực hiện cài đặt các cập nhật mới nhất.  sudo yum update -y Kết nối tới EC2 Instance mà bạn vừa tạo và tải gói CloudWatch Agent bằng lệnh sau:  sudo wget https://s3.amazonaws.com/amazoncloudwatch-agent/amazon_linux/amd64/latest/amazon-cloudwatch-agent.rpm Cài đặt gói agent vừa tải về bằng lệnh:  sudo rpm -U ./amazon-cloudwatch-agent.rpm Tạo script để gửi memory metric về CloudWatch:  sudo vi /opt/aws/amazon-cloudwatch-agent/bin/config.json  Nhấn phím i và copy file JSON dưới đây vào script:  {\r\u0026#34;logs\u0026#34;: {\r\u0026#34;logs_collected\u0026#34;: {\r\u0026#34;files\u0026#34;: {\r\u0026#34;collect_list\u0026#34;: [\r{\r\u0026#34;file_path\u0026#34;: \u0026#34;/var/log/httpd/access_log\u0026#34;,\r\u0026#34;log_group_name\u0026#34;: \u0026#34;access_log\u0026#34;\r}\r]\r}\r}\r},\r\u0026#34;metrics\u0026#34;: {\r\u0026#34;metrics_collected\u0026#34;: {\r\u0026#34;mem\u0026#34;: {\r\u0026#34;measurement\u0026#34;: [\r\u0026#34;mem_used_percent\u0026#34;\r],\r\u0026#34;metrics_collection_interval\u0026#34;: 30\r}\r}\r}\r}  Nhấn phím ESC rồi gõ :wq để lưu lại script.  Vận hành script đó để gửi thông tin lên CloudWatch bằng câu lệnh:  sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl -a fetch-config -m ec2 -c file:/opt/aws/amazon-cloudwatch-agent/bin/config.json -s Kiểm tra kết nối tới CloudWatch  sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl -m ec2 -a status  Nếu trạng thái running thì thực hiện bước tiếp theo Nếu trạng thái stopped thì cần start Cloudwatch agent bằng câu lệnh sau:  sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl -a fetch-config -m ec2 -s -c file:/opt/aws/amazon-cloudwatch-agent/bin/config.json Nhập lệnh sau để di chuyển tới thư mục chứa log file của CloudWatch Agent:  cd /opt/aws/amazon-cloudwatch-agent/logs/ Nhập lệnh sau để xem nội dung của log file  cat amazon-cloudwatch-agent.log "
},
{
	"uri": "/vi/2-prerequiste/2.3-createiamrole/",
	"title": "Tạo IAM role",
	"tags": [],
	"description": "",
	"content": "Tạo IAM role Trong phần này, bạn sẽ thực hành cài đặt CloudWatch Agent để theo dõi RAM của EC2 Instance và gửi dữ liệu về cho CloudWatch. Để EC2 Instance có quyền truy cập vào CloudWatch, bạn cần gán cho nó một IAM Role phù hợp.\n Truy cập AWS Management Console   Tìm IAM Chọn IAM  Trong giao diện IAM   Chọn Roles Chọn Create role  Trong giao diện Select trusted entity   Chọn AWS service Use case, chọn EC2  Trong giao diện Add permissions   Tìm kiếm CloudWatchAgentServer policy Chọn CloudWatchAgentServer policy Chọn Next  Trong phần Role details   Chọn CloudWatchAgentRole  Chọn Create role  Hoàn thành tạo role  "
},
{
	"uri": "/vi/2-prerequiste/2.4-attachiamrole/",
	"title": "Gán IAM role",
	"tags": [],
	"description": "",
	"content": "Gán IAM role  Truy cập AWS Management Console   Tìm EC2 Chọn EC2   Trong giao diện EC2   Chọn Instances Chọn instance vừa tạo  Trong giao diện EC2   Chọn Actions Chọn Security Chọn Modify IAM role  Trong giao diện Modify IAM role   Chọn CloudWatchAgentRole Chọn Save  Hoàn thành gán role thành công   Kiểm tra instance đã được gán IAM role  "
},
{
	"uri": "/vi/4-createcloudwatchdashboard/",
	"title": "Tạo CloudWatch Dashboard",
	"tags": [],
	"description": "",
	"content": "Tạo CloudWatch Dashboard Để bắt đầu với CloudWatch Dashboard, trước tiên bạn cần tạo 1 dashboard mới. Bạn có thể tạo nhiều dashboard. Không có giới hạn về số lượng dashboard trong 1 tài khoản AWS. Tất cả các dashboard là Global, không nằm riêng trong 1 vùng region nào cả\n  Truy cập giao diện AWS Management Console\n Tìm CloudWatch Chọn CloudWatch     Trong giao diện CloudWatch\n Chọn Dashboard Chọn Custom dashboard Chọn Create dashboard     Trong giao diện Create new dashboard\n Dashboard name, nhập MyFirstDashboard Chọn Create dashboard     Tại prompt Add Widget, chọn loại giao diện Line. Trong giao diện Add to this dashboard\n Chọn Metrics     Trong giao diện Add metric graph\n Chọn Browse Custom namespaces, chọn CWAgent    Tiếp theo, chọn host   Chọn host theo Hostname type của instance vừa tạo\n Chọn Create widget    Hoàn thành tạo dashboard CloudWatch  Phóng to dashboard để xem dễ dàng và chọn View in metrics   Trong giao diện CloudWatch metrics\n Quan sát giao diện và các tính năng    Trong giao diện CloudWatch metrics  - Chọn **Add query**\r- Chọn **EC2**\r- Chọn **Average Active CPU for an application (CloudWatch Agent)**\r Kết quả query được hiển thị   Tiếp tục, trong giao diện CloudWatch metrics\n Chọn Add math Chọn Search Chọn EC2 CPU utilization    Kết quả hiện thị, chọn CWgent hostname type của instance và quan sát biểu đồ   Quay trở lại giao diện CloudWatch Dashboard\n Chọn Save dashboard    "
},
{
	"uri": "/vi/5-sharedashboard/",
	"title": "Chia sẻ Dashboard",
	"tags": [],
	"description": "",
	"content": "Chia sẻ CloudWatch Dashboard Trong phần này, chúng ta sử dụng các tính năng của CloudWatch metric, share dashboard và quản lý tài nguyên với Automatic dashboard\n  Trong giao diện CloudWatch Dashboard\n Share dashboard.    Đối với Share your dashboard publicly, chọn Start sharing  Xác nhận Share và chọn Confirm and preview policy  Chọn Accept policy and generate shareable link  Copy link để chia sẻ.  Truy cập vào link bằng trình duyệt.  Đổi mode của dashboard.  Bạn có thể xem Automatic dashboard, chọn EC2  Xem thông tin chi tiết được trực quan.  "
},
{
	"uri": "/vi/6-cleanup/",
	"title": "Dọn dẹp tài nguyên",
	"tags": [],
	"description": "",
	"content": "Chúng ta sẽ dọn dẹp tài nguyên theo thứ tự như sau:\nXóa Dashboard  Truy cập CloudWatch Management Console Trên thanh điều hướng bên trái, chọn Dashboards Chọn tất cả CloudWatch Dasboards liên quan tới bài lab. Click Delete Trong prompt, click Delete  Xóa IAM Role  Truy cập IAM Management Console Trên thanh điều hướng bên trái, chọn Roles Trong hộp tìm kiếm, tìm và chọn tất cả Roles liên quan tới bài lab. Click Delete Role Trong prompt, click Yes, Delete  Terminate EC2 instance  Truy cập EC2 Management Console Trên thanh điều hướng bên trái, chọn Intances Chọn tất cả EC2 Instance liên quan tới bài lab. Click Actions. Click Manage Instance State. Chọn Terminate. Click Change State  "
},
{
	"uri": "/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]